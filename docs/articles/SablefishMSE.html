<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="description" content="SablefishMSE">
<title>SablefishMSE • SablefishMSE</title>
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="SablefishMSE">
<meta property="og:description" content="SablefishMSE">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">SablefishMSE</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.1.0.0000</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="active nav-item">
  <a class="nav-link" href="../articles/SablefishMSE.html">Get started</a>
</li>
<li class="nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <a class="dropdown-item" href="../articles/00_sablefish_example.html">Sablefish MSE Example</a>
    <a class="dropdown-item" href="../articles/01_operating_model.html">Defining an Operating Model</a>
    <a class="dropdown-item" href="../articles/02_recruitment.html">Specifying Recruitment</a>
    <a class="dropdown-item" href="../articles/03_estimation_model.html">Estimation Method</a>
    <a class="dropdown-item" href="../articles/04_management_procedure.html">Defining a Management Procedure</a>
    <a class="dropdown-item" href="../articles/05_running_mse.html">Running the MSE</a>
    <a class="dropdown-item" href="../articles/06_processing_mse_results.html">Processing MSE Output Data</a>
    <a class="dropdown-item" href="../articles/07_plotting_mse_results.html">Visualizing MSE Outputs</a>
  </div>
</li>
      </ul>
<form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off">
</form>

      <ul class="navbar-nav"></ul>
</div>

    
  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="" class="logo" alt=""><h1>SablefishMSE</h1>
            
      
      
      <div class="d-none name"><code>SablefishMSE.Rmd</code></div>
    </div>

    
    
<p>The <code>SablefishMSE</code> package was developed to facilitate the evaluation of alternative harvest control rules, management policies (such as discarding), and TAC apportionment strategies for Alaska sablefish (<em>Anoplopoma fimbria</em>) under the jurisidiction of the United States North Pacific Fisheries Management Council (NPFMC) in Alaska.</p>
<hr>
<p>The <code>SablefishMSE</code> package can be downloaded and installed using:</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">remotes</span><span class="fu">::</span><span class="fu"><a href="https://remotes.r-lib.org/reference/install_github.html" class="external-link">install_github</a></span><span class="op">(</span><span class="st">"ovec8hkin/SablefishMSE"</span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va">SablefishMSE</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">#&gt; Warning: package 'ggplot2' was built under R version 4.3.3</span></span>
<span><span class="co">#&gt; Warning: package 'tibble' was built under R version 4.3.3</span></span>
<span><span class="co">#&gt; Warning: package 'purrr' was built under R version 4.3.3</span></span>
<span><span class="co">#&gt; Warning: package 'lubridate' was built under R version 4.3.3</span></span></code></pre>
<p>The package also requires installation of both the <code>afscOM</code> and <code>SpatialSablefishAssessment</code> R packages, among others:</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">remotes</span><span class="fu">::</span><span class="fu"><a href="https://remotes.r-lib.org/reference/install_github.html" class="external-link">install_github</a></span><span class="op">(</span><span class="st">"BenWilliams-NOAA/afscOM"</span><span class="op">)</span></span>
<span><span class="fu">remotes</span><span class="fu">::</span><span class="fu"><a href="https://remotes.r-lib.org/reference/install_github.html" class="external-link">install_github</a></span><span class="op">(</span><span class="st">"Craig44/SpatialSablefishAssessment"</span><span class="op">)</span></span></code></pre></div>
<div class="section level3">
<h3 id="a-simple-example">A Simple Example<a class="anchor" aria-label="anchor" href="#a-simple-example"></a>
</h3>
<p>A simple runnable example of the MSE simulation loop is available at <code>dev/sablefish_mse.r</code>. This script includes loading an <code>afscOM</code> compatible operating model, loading an existing recruitment function, loading an existing managment procedure object, and running the MSE simulation loop.</p>
<p>The primary R function that runs the MSE simulation loop is:</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/run_mse_multiple.html">run_mse_multiple</a></span><span class="op">(</span></span>
<span>    <span class="va">om</span>, </span>
<span>    <span class="va">mp</span>, </span>
<span>    <span class="va">options</span>,</span>
<span>    seed<span class="op">=</span><span class="va">seed</span></span>
<span><span class="op">)</span></span></code></pre></div>
<p>Below, we break down the components that go into the <code>om</code>, <code>mp</code>, and <code>options</code> parameters.</p>
<div class="section level4">
<h4 id="setting-up-the-operating-model">Setting up the Operating Model<a class="anchor" aria-label="anchor" href="#setting-up-the-operating-model"></a>
</h4>
<p>First, we start with defining the operating model.</p>
<p>This package relies on the <code>afscOM</code> package to run the forward OM projection component of the MSE, as well as to generate observation data. <code>afscOM</code> requires users to define three objects to control the behavior of the forward projection: a <code>dem_params</code> list, a <code>model_options</code> list, and an <code>init_naa</code> array.</p>
<p>The <code>dem_params</code> list is a named list of multi-dimensional arrays that define how demographic parameters vary across time, age, sex, space, and fleet, within the OM. All demographic arrays are of the same dimension: <code>[nyears, nages, nsexes, nregions, nfleets]</code> (some arrays, such as weight-at-age, will not have an <code>nfleets</code> dimension, while others, such as selectivity, will).</p>
<p>The <code>model_options</code> list is a complex named list of various options that control, among other things, the details of the observation processes and how catches are apportioned between fleets and spatial regions.</p>
<p>The <code>init_naa</code> array is a <code>[1, nages, nsexes, nregions]</code> array specifying the numbers-at-age by sex in each spatial region at the start of the firts year of the OM.</p>
<p>For more details on the proper construction of these objects, please refer to the <code>afscOM</code> documentation.</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">sable_om</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/readRDS.html" class="external-link">readRDS</a></span><span class="op">(</span><span class="st">"data/sablefish_om_big.RDS"</span><span class="op">)</span> <span class="co"># Read this saved OM from a file</span></span>
<span><span class="va">sable_om</span><span class="op">$</span><span class="va">dem_params</span>     <span class="co"># List of demographic parameter arrays</span></span>
<span><span class="va">sable_om</span><span class="op">$</span><span class="va">model_options</span>  <span class="co"># List of OM options (e.g. observation process parameters)</span></span>
<span><span class="va">sable_om</span><span class="op">$</span><span class="va">init_naa</span>       <span class="co"># Array of numbers-at-age in years 1 of the OM</span></span></code></pre></div>
<p>In addition to the components required by <code>afscOM</code>, users must also define a <code>recruitment</code> object that defines how future recruitment will occur within the MSE loop. This object is simply added to the end of the OM object alongside the other required components discussed above. For more information on defining recruitment objects, see <a href="03_recruitment_functions.html">“Specifying Recruitment”</a>.</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Define recruitment to occur via historical resampling</span></span>
<span><span class="va">recruitment_obj</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span>
<span>  <span class="co"># R function for generating future recruitments</span></span>
<span>  func<span class="op">=</span><span class="va">resample_recruits</span>,</span>
<span>  <span class="co"># List of parameters values to pass to `func`</span></span>
<span>  <span class="va">pars</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span>
<span>      hist_recruits <span class="op">=</span> <span class="va">hist_recruits</span>,</span>
<span>      nyears <span class="op">=</span> <span class="fl">10</span><span class="op">*</span><span class="va">nyears</span></span>
<span>  <span class="op">)</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="va">sable_om</span><span class="op">$</span><span class="va">recruitment</span> <span class="op">&lt;-</span> <span class="va">recruitment_obj</span></span></code></pre></div>
</div>
<div class="section level4">
<h4 id="setting-up-a-management-procedure-object">Setting up a Management Procedure Object<a class="anchor" aria-label="anchor" href="#setting-up-a-management-procedure-object"></a>
</h4>
<p>Second, users must defined a management procedure (MP) objects that defines a harvest control rule (HCR) to apply annually, as well as otehr aspects of the management regime, such as survey frequency, assessment frequency, and reference point calculation methods.</p>
<p>A default MP object can be created:</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">mp</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/setup_mp_options.html">setup_mp_options</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="va">mp</span></span>
<span><span class="co">#&gt; $hcr</span></span>
<span><span class="co">#&gt; $hcr$func</span></span>
<span><span class="co">#&gt; NULL</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $hcr$extra_pars</span></span>
<span><span class="co">#&gt; [1] NA</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $hcr$extra_options</span></span>
<span><span class="co">#&gt; $hcr$extra_options$max_stability</span></span>
<span><span class="co">#&gt; [1] NA</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $hcr$extra_options$harvest_cap</span></span>
<span><span class="co">#&gt; [1] NA</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $hcr$units</span></span>
<span><span class="co">#&gt; NULL</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $ref_points</span></span>
<span><span class="co">#&gt; $ref_points$spr_target</span></span>
<span><span class="co">#&gt; [1] 0.4</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $management</span></span>
<span><span class="co">#&gt; $management$abc_tac_reduction</span></span>
<span><span class="co">#&gt; [1] 1</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $management$tac_land_reduciton</span></span>
<span><span class="co">#&gt; [1] 1</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $survey_frequency</span></span>
<span><span class="co">#&gt; [1] 1</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $assessment_frequency</span></span>
<span><span class="co">#&gt; [1] 1</span></span></code></pre></div>
<p>though this default <code>mp</code> object does not define an HCR function.</p>
<p>To define an HCR object, create a new list object with the following structure:</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">hcr_obj</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span>
<span>    <span class="co"># R function defining HCR </span></span>
<span>    func <span class="op">=</span> <span class="va">tier3</span>,</span>
<span>    <span class="co"># List of extra parameters required by `func`</span></span>
<span>    extra_pars <span class="op">=</span> <span class="cn">NA</span>,</span>
<span>    <span class="co"># Specify stability constraints and/or harvest caps</span></span>
<span>    extra_options <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span>
<span>        max_stability <span class="op">=</span> <span class="cn">NA</span>,</span>
<span>        harvest_cap <span class="op">=</span> <span class="cn">NA</span></span>
<span>    <span class="op">)</span>,</span>
<span>    <span class="co"># Output units of `func`</span></span>
<span>    units <span class="op">=</span> <span class="st">"F"</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="va">hcr_obj</span></span>
<span><span class="co">#&gt; $func</span></span>
<span><span class="co">#&gt; &lt;srcref: file "" chars 1:10 to 8:1&gt;</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $extra_pars</span></span>
<span><span class="co">#&gt; [1] NA</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $extra_options</span></span>
<span><span class="co">#&gt; $extra_options$max_stability</span></span>
<span><span class="co">#&gt; [1] NA</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $extra_options$harvest_cap</span></span>
<span><span class="co">#&gt; [1] NA</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $units</span></span>
<span><span class="co">#&gt; [1] "F"</span></span>
<span></span>
<span><span class="va">mp</span><span class="op">$</span><span class="va">hcr</span> <span class="op">&lt;-</span> <span class="va">hcr_obj</span></span></code></pre></div>
<p>This HCR object defines the NPFMC Tier 3 HCR for groundfish in Alaska, without any extra parameters, stability constraints, or harvest caps. The output of the <code>tier3</code> function is in fishing mortality (“F”) units.</p>
<p>For more information on defining management procedure and harvest control rule objects, see <a href="04_defining_management_procedures.html">“Defining Management Procedures”</a>.</p>
</div>
<div class="section level4">
<h4 id="defining-mse-options">Defining MSE Options<a class="anchor" aria-label="anchor" href="#defining-mse-options"></a>
</h4>
<p>A list of options that define internal aspects of the MSE simulation loop (the number of projection years, whether to run the estimation method, etc.) is also required. An default MSE option list is available via:</p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">mse_options</span> <span class="op">&lt;-</span> <span class="fu">setup_mse_options</span><span class="op">(</span><span class="op">)</span></span>
<span><span class="va">mse_options</span></span>
<span><span class="co">#&gt; $n_proj_years</span></span>
<span><span class="co">#&gt; [1] 100</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $n_spinup_years</span></span>
<span><span class="co">#&gt; [1] 64</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $recruitment_start_year</span></span>
<span><span class="co">#&gt; [1] 64</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $run_estimation</span></span>
<span><span class="co">#&gt; [1] TRUE</span></span></code></pre></div>
</div>
<div class="section level4">
<h4 id="running-the-mse">Running the MSE<a class="anchor" aria-label="anchor" href="#running-the-mse"></a>
</h4>
<p>Once an OM object, MP object, and MSE options list have been correctly defined, running the MSE is as simple as:</p>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">mse</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/run_mse.html">run_mse</a></span><span class="op">(</span></span>
<span>  om <span class="op">=</span> <span class="va">sable_om</span>, </span>
<span>  mp <span class="op">=</span> <span class="va">mp</span>, </span>
<span>  options <span class="op">=</span> <span class="va">mse_options</span>,</span>
<span>  seed<span class="op">=</span><span class="va">seed</span></span>
<span><span class="op">)</span></span></code></pre></div>
<p>The <code>seed</code> parameters specified a random seed to use throughout the simulation loop.</p>
<p>There are wrapper functions for performing many MSE runs across different random seeds in parallel, and for performing MSE runs across a combination of OM and MP objects. For more information on multiple and parallel MSE simulations, see <a href="05_running_mse_simulations.html">“Running MSE Simulations”</a>.</p>
</div>
<div class="section level4">
<h4 id="processing-mse-outputs">Processing MSE outputs<a class="anchor" aria-label="anchor" href="#processing-mse-outputs"></a>
</h4>
<p>The <code>run_mse</code> function returns a large amount of data back to the user including numbers-at-age and sex for every year (both true and estimated), fishing-mortality-at-age (true and estimated), landed catch, and the recommended F from the HCR in each year. To facilitate easier processing of these results, especially when MSEs with different OMs or different HCRs are being compared, a <code>bind_mse_outputs</code> function has been provided.</p>
<div class="sourceCode" id="cb11"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a>model_runs <span class="ot">&lt;-</span> <span class="fu">list</span>(</span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a>    mse</span>
<span id="cb11-3"><a href="#cb11-3" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb11-4"><a href="#cb11-4" aria-hidden="true" tabindex="-1"></a>extra_columns <span class="ot">&lt;-</span> <span class="fu">expand.grid</span>(</span>
<span id="cb11-5"><a href="#cb11-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">om =</span> <span class="fu">c</span>(<span class="st">"om1"</span>)</span>
<span id="cb11-6"><a href="#cb11-6" aria-hidden="true" tabindex="-1"></a>    <span class="at">hcr =</span> <span class="fu">c</span>(<span class="st">"mp1"</span>)</span>
<span id="cb11-7"><a href="#cb11-7" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb11-8"><a href="#cb11-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-9"><a href="#cb11-9" aria-hidden="true" tabindex="-1"></a>naa_out <span class="ot">&lt;-</span> <span class="fu">bind_mse_outputs</span>(model_runs, <span class="at">var=</span><span class="fu">c</span>(<span class="st">"naa"</span>), extra_columns)</span></code></pre></div>
<p>The <code>bind_mse_outputs</code> function accepts a list of completed MSE simulations, a grid of “extra columns” specifying what OM and MP each MSE simulation corresponds too, and a vector of variable names to pull from the completed MSE simulations, and outputs a long-format dataframe with the requested data. For more information on using this function see the <a href="05_processing_mse_results.html">“Processing MSE Results”</a> page.</p>
<p>Wrapper functions are provided to faciliate easy computation and visualization of common quantities such as spawning biomass, annual fishing mortality, and catch.</p>
<p>Below is an example of one way how users may plot SSB.</p>
<div class="sourceCode" id="cb12"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Plot spawning biomass from OM and EM</span></span>
<span><span class="va">ssb_data</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/get_ssb_biomass.html">get_ssb_biomass</a></span><span class="op">(</span></span>
<span>  model_runs<span class="op">=</span><span class="va">model_runs</span>,</span>
<span>  extra_columns<span class="op">=</span><span class="va">extra_columns</span>, </span>
<span>  dem_params<span class="op">=</span><span class="va">sable_om</span><span class="op">$</span><span class="va">dem_params</span>,</span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="fu">plot_ssb</span><span class="op">(</span></span>
<span>  <span class="va">ssb_data</span>,         <span class="co"># SSB Data to plot</span></span>
<span>  v1<span class="op">=</span><span class="st">"hcr"</span>,         <span class="co"># Variable to associate with color</span></span>
<span>  v2<span class="op">=</span><span class="st">"om"</span>,          <span class="co"># Variable to facet by</span></span>
<span>  v3<span class="op">=</span><span class="cn">NA</span>, </span>
<span>  show_est <span class="op">=</span> <span class="cn">FALSE</span>  <span class="co"># Dont plot SSB estimates</span></span>
<span><span class="op">)</span></span></code></pre></div>
</div>
</div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p></p>
<p>Developed by Joshua Zahner, Benjamin Williams, Dan Goethel, Curry Cunningham, Matt Cheng.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

    </footer>
</div>

  

  

  </body>
</html>
