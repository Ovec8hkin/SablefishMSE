<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Defining a Management Procedure • SablefishMSE</title>
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet">
<link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet">
<script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Defining a Management Procedure">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">SablefishMSE</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.1.0.0000</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item"><a class="nav-link" href="../articles/SablefishMSE.html">Get started</a></li>
<li class="nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="active nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles">
<li><a class="dropdown-item" href="../articles/00_sablefish_example.html">Sablefish MSE Example</a></li>
    <li><a class="dropdown-item" href="../articles/01_operating_model.html">Defining an Operating Model</a></li>
    <li><a class="dropdown-item" href="../articles/02_recruitment.html">Specifying Recruitment</a></li>
    <li><a class="dropdown-item" href="../articles/03_estimation_model.html">Estimation Method</a></li>
    <li><a class="dropdown-item" href="../articles/04_management_procedure.html">Defining a Management Procedure</a></li>
    <li><a class="dropdown-item" href="../articles/05_running_mse.html">Running the MSE</a></li>
    <li><a class="dropdown-item" href="../articles/06_processing_mse_results.html">Processing MSE Output Data</a></li>
    <li><a class="dropdown-item" href="../articles/07_plotting_mse_results.html">Visualizing MSE Outputs</a></li>
  </ul>
</li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json">
</form></li>
      </ul>
</div>


  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Defining a Management Procedure</h1>
            
      

      <div class="d-none name"><code>04_management_procedure.Rmd</code></div>
    </div>

    
    
<p>A management procedure (MP) object is required to define aspects of
the management regime being applied to the population. Nominally, this
includes defining: (1) a harvest control rule (HCR), (2) a method for
calculating reference points, (3) whether/how to reduce allowable catch
from the HCR recommended catch levels, and (4) the frequency with which
surveys and stock assessments occur. The MP object has been designed
based on the existing management practices for Alaska sablefish under
the jurisidiction of the North Pacific Fisheries Management Council.</p>
<p>To define an MP object, five elements are required:</p>
<ul>
<li>
<code>hcr</code> - a harvest control rule definition</li>
<li>
<code>ref_points</code> - a method and level of reference point</li>
<li>
<code>management</code> - aspects of the management regime such as
ABC-TAC reductions and realized TAC attainment</li>
<li>
<code>survey_frequency</code> - a frequency with which to simulate
survey data</li>
<li>
<code>assessment_frequency</code> - a frequency with which to
perform a stock assessment</li>
</ul>
<p>A default MP object is available through the
<code>setup_mp_option()</code> function, though no default HCR is
available.</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">mp</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/setup_mp_options.html">setup_mp_options</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="va">mp</span></span></code></pre></div>
<pre><code><span><span class="co">## $hcr</span></span>
<span><span class="co">## $hcr$func</span></span>
<span><span class="co">## NULL</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## $hcr$extra_pars</span></span>
<span><span class="co">## [1] NA</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## $hcr$extra_options</span></span>
<span><span class="co">## $hcr$extra_options$max_stability</span></span>
<span><span class="co">## [1] NA</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## $hcr$extra_options$harvest_cap</span></span>
<span><span class="co">## [1] NA</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## </span></span>
<span><span class="co">## $hcr$units</span></span>
<span><span class="co">## NULL</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## </span></span>
<span><span class="co">## $ref_points</span></span>
<span><span class="co">## $ref_points$spr_target</span></span>
<span><span class="co">## [1] 0.4</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## </span></span>
<span><span class="co">## $management</span></span>
<span><span class="co">## $management$abc_tac_reduction</span></span>
<span><span class="co">## [1] 1</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## $management$tac_land_reduciton</span></span>
<span><span class="co">## [1] 1</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## </span></span>
<span><span class="co">## $survey_frequency</span></span>
<span><span class="co">## [1] 1</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## $assessment_frequency</span></span>
<span><span class="co">## [1] 1</span></span></code></pre>
<div class="section level3">
<h3 id="defining-a-harvest-control-rule">Defining a Harvest Control Rule<a class="anchor" aria-label="anchor" href="#defining-a-harvest-control-rule"></a>
</h3>
<p>The harvest control rule (HCR) defines the maximum catch that can be
taken from the population in the following annual timestep. HCRs can
range from as simple as constant catch rules (where the same catch is
taken every year) to complex threshold functions that scale allowable
catch based on stock status relative to one or more reference
points.</p>
<p>An HCR is defined as a complex list object with four parameters:</p>
<ul>
<li>
<code>func</code> - an R function that defines the functional form
of the HCR</li>
<li>
<code>extra_pars</code> - a named list of additional parameter
values required by <code>func</code> (see section on “Custom Harvest
Control Rule Functions”)</li>
<li>
<code>extra_options</code> - a named list of additional HCR options
(currently only stability constraints and harvest caps are
supported)</li>
<li>
<code>units</code> - output units of <code>func</code> (either “F”
if the HCR is defined in fishing mortality units or “TAC” if defined in
catch units)</li>
</ul>
<p>The below example defines the NPFMC Tier 3 Groundfish HCR that is
used to manage sablefish in Alaska:</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">tier3</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">ref_pts</span>, <span class="va">naa</span>, <span class="va">dem_params</span>, <span class="va">avgrec</span>, <span class="va">cutoff_age</span><span class="op">=</span><span class="fl">1</span><span class="op">)</span><span class="op">{</span></span>
<span>    <span class="va">nages</span> <span class="op">&lt;-</span> <span class="fu">afscOM</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/afscOM/man/get_model_dimensions.html" class="external-link">get_model_dimensions</a></span><span class="op">(</span><span class="va">dem_params</span><span class="op">$</span><span class="va">sel</span><span class="op">)</span><span class="op">$</span><span class="va">nages</span></span>
<span>    <span class="va">a</span> <span class="op">&lt;-</span> <span class="va">cutoff_age</span><span class="op">-</span><span class="fl">1</span></span>
<span>    <span class="va">ssb</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/apply.html" class="external-link">apply</a></span><span class="op">(</span><span class="va">naa</span><span class="op">[</span>,<span class="va">a</span><span class="op">:</span><span class="va">nages</span>,<span class="fl">1</span>,<span class="op">]</span><span class="op">*</span><span class="va">dem_params</span><span class="op">$</span><span class="va">waa</span><span class="op">[</span>,<span class="va">a</span><span class="op">:</span><span class="va">nages</span>,<span class="fl">1</span>,,drop<span class="op">=</span><span class="cn">FALSE</span><span class="op">]</span><span class="op">*</span><span class="va">dem_params</span><span class="op">$</span><span class="va">mat</span><span class="op">[</span>,<span class="va">a</span><span class="op">:</span><span class="va">nages</span>,<span class="fl">1</span>,,drop<span class="op">=</span><span class="cn">FALSE</span><span class="op">]</span>, <span class="fl">1</span>, <span class="va">sum</span><span class="op">)</span></span>
<span>    <span class="kw"><a href="https://rdrr.io/r/base/function.html" class="external-link">return</a></span><span class="op">(</span></span>
<span>        <span class="fu"><a href="../reference/npfmc_tier3_F.html">npfmc_tier3_F</a></span><span class="op">(</span><span class="va">ssb</span>, <span class="va">ref_pts</span><span class="op">$</span><span class="va">Bref</span>, <span class="va">ref_pts</span><span class="op">$</span><span class="va">Fref</span><span class="op">)</span></span>
<span>    <span class="op">)</span></span>
<span><span class="op">}</span></span>
<span></span>
<span><span class="va">hcr_obj</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span>
<span>    <span class="co"># R function defining HCR </span></span>
<span>    func <span class="op">=</span> <span class="va">tier3</span>,</span>
<span>    <span class="co"># No extra parameters required</span></span>
<span>    extra_pars <span class="op">=</span> <span class="cn">NA</span>,</span>
<span>    <span class="co"># No stability constraints or harvest caps</span></span>
<span>    extra_options <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span>
<span>        max_stability <span class="op">=</span> <span class="cn">NA</span>,</span>
<span>        harvest_cap <span class="op">=</span> <span class="cn">NA</span></span>
<span>    <span class="op">)</span>,</span>
<span>    <span class="co"># `func` outputs in fishing mortality units</span></span>
<span>    units <span class="op">=</span> <span class="st">"F"</span></span>
<span><span class="op">)</span></span></code></pre></div>
<p>The <code>max_stability</code> option allows for constraining the
maximum allowable annual change in catch recommendations by the HCR.
Values should be in the range 0-1. This constraint is always applied to
the recommended catch even if the HCR function output is in fishing
mortality units.</p>
<p>The <code>harvest_cap</code> option allows for constraining the
allowable catch to a maximum value, even if the catch recommendation
from the HCR is higher. Values are interpreted in units of 1000s mt.</p>
<div class="section level5">
<h5 id="existing-harvest-control-rule-functions">Existing Harvest Control Rule Functions<a class="anchor" aria-label="anchor" href="#existing-harvest-control-rule-functions"></a>
</h5>
<p>Several MP/HCR objects are provided with the
<code>SablefishMSE</code> package:</p>
<ul>
<li>
<code>mp_f40</code> - a threshold HCR using F40/B40 reference
points. This is the current HCR used to managed sablefish in
Alaska.</li>
<li>
<code>mp_f50</code> - a threshold HCR using F50/B50 reference
points.</li>
<li>
<code>mp_5perc</code> - the <code>mp_f40</code> HCR but with a
stability constrainnt of 5%</li>
<li>
<code>mp_15cap</code> - the <code>mp_f40</code> HCR but with a
maximum harvest cap of 15,000mt.</li>
</ul>
</div>
<div class="section level5">
<h5 id="custom-harvest-control-rule-functions">Custom Harvest Control Rule Functions<a class="anchor" aria-label="anchor" href="#custom-harvest-control-rule-functions"></a>
</h5>
<p>Custom HCR functions can be easily developed and used within the MSE
simulation loop. All HCR functions must accept, at minimum, the same
four function arguments:</p>
<ul>
<li>
<code>ref_pts</code> - a list object containing computed values of
reference points</li>
<li>
<code>naa</code> - an array of numbers-at-age (will be dimension
<code>[1, nages, nsexes, nregions]</code>)</li>
<li>
<code>dem_params</code> - a list of demographic parameters (will be
dimension <code>[1, nages, nsexes, nregion, nfleets]</code>)</li>
<li>
<code>avgrec</code> - average recruitment across the simulation</li>
</ul>
<p>All four of these arguments must be accepted by any custom HCR
function, even if they are not used. Additional arguments can also be
accepted, and their values specified in the <code>hcr$extra_pars</code>
list (the four arguments listed above <strong>DO NOT</strong> need to be
specified in the <code>extra_pars</code> list, as they will be passed to
the HCR function automatcally within the MSE simulation loop). Note that
custom HCR functions <strong>CAN NOT</strong> make use of internal state
variables from the MSE except for numbers-at-age.</p>
<p>Below is an example of a custom HCR that recommends a fishing
mortality of 10% when
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mtext mathvariant="normal">SSB</mtext><mo>&gt;</mo><mo>=</mo><mn>100</mn></mrow><annotation encoding="application/x-tex">\text{SSB} &gt;= 100</annotation></semantics></math>mt
and a fishing mortality of 1% when
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mtext mathvariant="normal">SSB</mtext><mo>&lt;</mo><mn>100</mn></mrow><annotation encoding="application/x-tex">\text{SSB} &lt; 100</annotation></semantics></math>mt.</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># the four required function arguemnts are present</span></span>
<span><span class="va">step_hcr</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">ref_pts</span>, <span class="va">naa</span>, <span class="va">dem_params</span>, <span class="va">avgrec</span><span class="op">)</span><span class="op">{</span></span>
<span>    <span class="co"># Calculate ssb as naa*waa*mat (female only) in units of 1,000s tons</span></span>
<span>    <span class="va">ssb</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/apply.html" class="external-link">apply</a></span><span class="op">(</span><span class="va">naa</span><span class="op">[</span>,,<span class="fl">1</span>,<span class="op">]</span><span class="op">*</span><span class="va">dem_params</span><span class="op">$</span><span class="va">waa</span><span class="op">[</span>,,<span class="fl">1</span>,,drop<span class="op">=</span><span class="cn">FALSE</span><span class="op">]</span><span class="op">*</span><span class="va">dem_params</span><span class="op">$</span><span class="va">mat</span><span class="op">[</span>,,<span class="fl">1</span>,,drop<span class="op">=</span><span class="cn">FALSE</span><span class="op">]</span>, <span class="fl">1</span>, <span class="va">sum</span><span class="op">)</span></span>
<span>    <span class="kw"><a href="https://rdrr.io/r/base/function.html" class="external-link">return</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/ifelse.html" class="external-link">ifelse</a></span><span class="op">(</span><span class="va">ssb</span> <span class="op">&gt;</span> <span class="fl">100</span>, <span class="fl">0.10</span>, <span class="fl">0.01</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="op">}</span></span>
<span></span>
<span><span class="va">hcr</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span>
<span>    func <span class="op">=</span> <span class="va">step_hcr</span>, <span class="co"># the HCR function to evaluate</span></span>
<span>    extra_pars <span class="op">=</span> <span class="cn">NA</span>, <span class="co"># no extra parameters needed</span></span>
<span>    extra_options <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span>
<span>        max_stability <span class="op">=</span> <span class="cn">NA</span>, <span class="co"># no stability constraints</span></span>
<span>        harvest_cap <span class="op">=</span> <span class="cn">NA</span> <span class="co"># no harvest caps</span></span>
<span>    <span class="op">)</span>,</span>
<span>    units <span class="op">=</span> <span class="st">"F"</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="va">mp</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/setup_mp_options.html">setup_mp_options</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="va">mp</span><span class="op">$</span><span class="va">hcr</span> <span class="op">&lt;-</span> <span class="va">hcr</span></span></code></pre></div>
<p>Another example of a custom HCR function that accepts additional
arguments:</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" tabindex="-1"></a>average_age <span class="ot">&lt;-</span> <span class="cf">function</span>(naa, ages){</span>
<span id="cb5-2"><a href="#cb5-2" tabindex="-1"></a>    <span class="fu">return</span>(<span class="fu">weighted.mean</span>(ages, naa))</span>
<span id="cb5-3"><a href="#cb5-3" tabindex="-1"></a>}</span>
<span id="cb5-4"><a href="#cb5-4" tabindex="-1"></a></span>
<span id="cb5-5"><a href="#cb5-5" tabindex="-1"></a>avgage_threshold_f <span class="ot">&lt;-</span> <span class="cf">function</span>(ref_pts, naa, dem_params, ref_naa, ages){</span>
<span id="cb5-6"><a href="#cb5-6" tabindex="-1"></a>    <span class="co"># Calculate ssb as naa*waa*mat (female only) in units of 1,000s tons</span></span>
<span id="cb5-7"><a href="#cb5-7" tabindex="-1"></a>    ssb <span class="ot">&lt;-</span> <span class="fu">apply</span>(naa[,,<span class="dv">1</span>,]<span class="sc">*</span>dem_params<span class="sc">$</span>waa[,,<span class="dv">1</span>,,<span class="at">drop=</span><span class="cn">FALSE</span>]<span class="sc">*</span>dem_params<span class="sc">$</span>mat[,,<span class="dv">1</span>,,<span class="at">drop=</span><span class="cn">FALSE</span>], <span class="dv">1</span>, sum)</span>
<span id="cb5-8"><a href="#cb5-8" tabindex="-1"></a>    as_stat <span class="ot">&lt;-</span> <span class="fu">average_age</span>(naa, ages)<span class="sc">/</span><span class="fu">average_age</span>(ref_naa, ages)</span>
<span id="cb5-9"><a href="#cb5-9" tabindex="-1"></a>    as_scalar <span class="ot">&lt;-</span> <span class="fu">threshold_f</span>(as_stat, <span class="at">f_min=</span><span class="dv">0</span>, <span class="at">f_max=</span><span class="dv">1</span>, <span class="at">lrp=</span><span class="dv">0</span>, <span class="at">urp=</span><span class="dv">1</span>)</span>
<span id="cb5-10"><a href="#cb5-10" tabindex="-1"></a></span>
<span id="cb5-11"><a href="#cb5-11" tabindex="-1"></a>    x <span class="ot">&lt;-</span> ssb<span class="sc">/</span>ref_pts<span class="sc">$</span>B40</span>
<span id="cb5-12"><a href="#cb5-12" tabindex="-1"></a>    f_max <span class="ot">&lt;-</span> ref_pts<span class="sc">$</span>F40<span class="sc">*</span>as_scalar</span>
<span id="cb5-13"><a href="#cb5-13" tabindex="-1"></a>    f_min <span class="ot">&lt;-</span> <span class="dv">0</span></span>
<span id="cb5-14"><a href="#cb5-14" tabindex="-1"></a>    lrp <span class="ot">&lt;-</span> <span class="dv">0</span></span>
<span id="cb5-15"><a href="#cb5-15" tabindex="-1"></a>    urp <span class="ot">&lt;-</span> <span class="dv">1</span></span>
<span id="cb5-16"><a href="#cb5-16" tabindex="-1"></a></span>
<span id="cb5-17"><a href="#cb5-17" tabindex="-1"></a>    <span class="cf">if</span>(x <span class="sc">&gt;=</span> urp)  F <span class="ot">&lt;-</span> f_max <span class="co"># if stock status &gt;= 1</span></span>
<span id="cb5-18"><a href="#cb5-18" tabindex="-1"></a>    <span class="cf">if</span>(x <span class="sc">&gt;</span> lrp <span class="sc">&amp;&amp;</span> x <span class="sc">&lt;</span> urp) F <span class="ot">&lt;-</span> f_max <span class="sc">*</span> ((x<span class="sc">-</span>lrp)<span class="sc">/</span>(urp<span class="sc">-</span>lrp)) <span class="co"># if stock status &gt; alpha &amp; stock status &lt; 1</span></span>
<span id="cb5-19"><a href="#cb5-19" tabindex="-1"></a>    <span class="cf">if</span>(x <span class="sc">&lt;=</span> lrp) F <span class="ot">&lt;-</span> f_min</span>
<span id="cb5-20"><a href="#cb5-20" tabindex="-1"></a></span>
<span id="cb5-21"><a href="#cb5-21" tabindex="-1"></a>    <span class="fu">return</span>(f)</span>
<span id="cb5-22"><a href="#cb5-22" tabindex="-1"></a>}</span>
<span id="cb5-23"><a href="#cb5-23" tabindex="-1"></a></span>
<span id="cb5-24"><a href="#cb5-24" tabindex="-1"></a>hcr <span class="ot">&lt;-</span> <span class="fu">list</span>(</span>
<span id="cb5-25"><a href="#cb5-25" tabindex="-1"></a>    <span class="co"># the HCR function to evaluate</span></span>
<span id="cb5-26"><a href="#cb5-26" tabindex="-1"></a>    <span class="at">func =</span> avgage_threshold_f,</span>
<span id="cb5-27"><a href="#cb5-27" tabindex="-1"></a>    <span class="co"># values of additional arguments required by the "avgage_threshold_f" function</span></span>
<span id="cb5-28"><a href="#cb5-28" tabindex="-1"></a>    <span class="at">extra_pars =</span> <span class="fu">list</span>(</span>
<span id="cb5-29"><a href="#cb5-29" tabindex="-1"></a>        <span class="at">ref_naa =</span> <span class="fu">c</span>(<span class="dv">100</span>, <span class="dv">75</span>, <span class="dv">50</span>, <span class="dv">25</span>, <span class="dv">10</span>), </span>
<span id="cb5-30"><a href="#cb5-30" tabindex="-1"></a>        <span class="at">ages =</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">5</span></span>
<span id="cb5-31"><a href="#cb5-31" tabindex="-1"></a>    ),</span>
<span id="cb5-32"><a href="#cb5-32" tabindex="-1"></a>    <span class="at">extra_options =</span> <span class="fu">list</span>(</span>
<span id="cb5-33"><a href="#cb5-33" tabindex="-1"></a>        <span class="at">max_stability =</span> <span class="cn">NA</span></span>
<span id="cb5-34"><a href="#cb5-34" tabindex="-1"></a>        <span class="at">harvest_cap =</span> <span class="cn">NA</span></span>
<span id="cb5-35"><a href="#cb5-35" tabindex="-1"></a>    ),</span>
<span id="cb5-36"><a href="#cb5-36" tabindex="-1"></a>    <span class="at">units =</span> <span class="st">"F"</span></span>
<span id="cb5-37"><a href="#cb5-37" tabindex="-1"></a>)</span>
<span id="cb5-38"><a href="#cb5-38" tabindex="-1"></a></span>
<span id="cb5-39"><a href="#cb5-39" tabindex="-1"></a>mp <span class="ot">&lt;-</span> <span class="fu">setup_mp_options</span>()</span>
<span id="cb5-40"><a href="#cb5-40" tabindex="-1"></a>mp<span class="sc">$</span>hcr <span class="ot">&lt;-</span> hcr</span></code></pre></div>
</div>
</div>
<div class="section level3">
<h3 id="defining-a-management-object">Defining a Management Object<a class="anchor" aria-label="anchor" href="#defining-a-management-object"></a>
</h3>
<p><code>SablefishMSE</code> applies HCR functions at the level of
Acceptable Biological Catch (ABC), consistent with how the North Pacific
Fisheries Management Council utilizes HCRs to manage groundfish
fisheries in Alaska. Total Allowable Catch (TAC), the management
quantity that constrains the maximum catch that can be removed the
population annually, is subsequently constrained such that
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mtext mathvariant="normal">TAC</mtext><mo>&lt;</mo><mo>=</mo><mtext mathvariant="normal">ABC</mtext></mrow><annotation encoding="application/x-tex">\text{TAC} &lt;= \text{ABC}</annotation></semantics></math>.
Finally, landed catch is further constrained such that
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mtext mathvariant="normal">Catch</mtext><mo>&lt;</mo><mo>=</mo><mtext mathvariant="normal">TAC</mtext></mrow><annotation encoding="application/x-tex">\text{Catch} &lt;= \text{TAC}</annotation></semantics></math>,
to reflect that the entire TAC is not taken in every year.</p>
<p>The amount by which the ABC is reduced to yield a TAC, and the amount
by which the TAC is reduced to yield an annual catch, are customizable
through the <code>mp$management</code> object.</p>
<ul>
<li>
<code>mp$management$abc_tac_reduction</code> - a multiplicative
factor reflecting what proportion of the ABC to set the TAC too.</li>
<li>
<code>mp$management$tac_land_reduction</code> - multiplicative
factor reflecting what proportion of the TAC to set annual landings too.
This is otherwise known as “attainment”.</li>
</ul>
<p>Both the <code>abc_tac_reduction</code> and
<code>tac_land_reduction</code> parameters are, by default, set to 1,
such that the
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mtext mathvariant="normal">ABC</mtext><mo>=</mo><mtext mathvariant="normal">TAC</mtext><mo>=</mo><mtext mathvariant="normal">Catch</mtext></mrow><annotation encoding="application/x-tex">\text{ABC} = \text{TAC} = \text{Catch}</annotation></semantics></math>.
If set to a single value, the same multiplicative factor is applied in
every year of the simulation.</p>
</div>
<div class="section level3">
<h3 id="defining-a-reference-point-object">Defining a Reference Point Object<a class="anchor" aria-label="anchor" href="#defining-a-reference-point-object"></a>
</h3>
<p><code>SablefishMSE</code> calculates annual reference points using
spawning potential ratio (SPR) methods. A target SPR level can be set by
the <code>mp$ref_pts$spr_target</code> parameter. The parameter can be
either a single value, or a vector of two values. If two values are
supplied, the first value corresponds to the fishing mortality reference
point and the second value corresponds to the biological reference
point.</p>
<p>The MSE simulation loop reference point function,
<code>calculate_ref_points</code>, computes and returns 4 values:</p>
<ul>
<li>
<code>Fmax</code> - a maximum permissable fishing mortality rate
corresponding to the fishing mortality that yields
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mtext mathvariant="normal">SPR</mtext><mo>=</mo><mn>0.50</mn></mrow><annotation encoding="application/x-tex">\text{SPR}=0.50</annotation></semantics></math>.</li>
<li>
<code>Fref</code> - the fishing mortality rate that yields
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mtext mathvariant="normal">SPR</mtext><mo>=</mo><mtext mathvariant="normal">spr_target</mtext></mrow><annotation encoding="application/x-tex">\text{SPR}=\text{spr_target}</annotation></semantics></math>
</li>
<li>
<code>Bref</code> - the spawning biomass resulting from fishing at
<code>Fref</code>
</li>
<li>
<code>B0</code> - the spawning biomass resulting from fishing at
<code>F=0.0</code>
</li>
</ul>
<p>The two biological reference points, <code>Bref</code> and
<code>B0</code> are calculated using the average recruitment across the
entire simulation.</p>
</div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p>Developed by Joshua Zahner, Benjamin Williams, Dan Goethel, Curry Cunningham, Matt Cheng.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

    </footer>
</div>





  </body>
</html>
